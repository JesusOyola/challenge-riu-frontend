import{a as _}from"./chunk-SULW2X6Y.js";import{a as M}from"./chunk-3O5T7DJX.js";import{a as b,b as a,d as F,e as y,g as C,h as w,i as x,k as E,l as R}from"./chunk-EC7V2Q6K.js";import{f as v,g as S}from"./chunk-3P42NUJB.js";import{Db as u,Mb as i,Qb as c,Rb as f,Ta as m,aa as n,fa as p,lb as l,qc as h,ub as t,vb as e,wb as g}from"./chunk-5XW4J5QZ.js";var I=()=>["/login"],N=(()=>{class s{constructor(){this.fb=n(E),this.loginService=n(_),this.router=n(v),this.toastr=n(M)}ngOnInit(){this.registerForm=this.initForm()}initForm(){return this.fb.group({email:["",[a.required,a.email]],password:["",[a.required,a.minLength(3)]]})}onSubmit(){let d={email:this.registerForm.get("email")?.value,password:this.registerForm.get("password")?.value},r=JSON.stringify(d),o=localStorage.getItem(this.registerForm.get("email")?.value);this.registerForm.valid&&o===null?(localStorage.setItem(`${this.registerForm.get("email")?.value}`,r),this.loginService.setUser(this.registerForm.get("email")?.value),localStorage.setItem("token",`${this.registerForm.get("email")?.value}${this.registerForm.get("password")?.value}`),this.toastr.success(`User ${this.registerForm.controls.email.value} created`,"User created"),this.registerForm.reset(),this.router.navigate(["/login"])):this.toastr.warning("Verify that your email and password are correct.","Invalid Credentials")}static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275cmp=p({type:s,selectors:[["app-register"]],standalone:!0,features:[c],decls:19,vars:4,consts:[[1,"wrapper"],[1,"body",3,"ngSubmit","formGroup"],["src","assets/img/cuenta.png","alt","img login",1,"logo"],[1,"mb-3","mt-3"],[1,"d-flex"],["type","email","formControlName","email",1,"form-control"],[1,"mb-3"],["type","password","formControlName","password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[3,"routerLink"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"form",1),u("ngSubmit",function(){return o.onSubmit()}),g(2,"img",2),t(3,"h3"),i(4,"Register"),e(),t(5,"div",3)(6,"label",4),i(7,"Email"),e(),g(8,"input",5),e(),t(9,"div",6)(10,"label",4),i(11,"Password"),e(),g(12,"input",7),e(),t(13,"div",8)(14,"button",9),i(15," Sign Up "),e(),t(16,"h4")(17,"a",10),i(18,"You have an account? Sign In."),e()()()()()),r&2&&(m(),l("formGroup",o.registerForm),m(13),l("disabled",o.registerForm.invalid),m(3),l("routerLink",f(3,I)))},dependencies:[h,R,C,b,F,y,w,x,S],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:linear-gradient(90deg,#a8a3d4,#a08db9,#342360);height:100%}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{max-width:300px;width:100%;text-align:center}.btn-lg[_ngcontent-%COMP%]{cursor:pointer}"]})}}return s})();var A=[{path:"",component:N}];export{A as REGISTER_ROUTES};
