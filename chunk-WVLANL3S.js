import{a as N}from"./chunk-SULW2X6Y.js";import{a as E}from"./chunk-3O5T7DJX.js";import{a as S,b as r,d as C,e as y,g as F,h as w,i as L,k as x,l as _}from"./chunk-EC7V2Q6K.js";import{f as v,g as b}from"./chunk-3P42NUJB.js";import{Db as u,Mb as i,Qb as c,Rb as f,Ta as m,aa as n,fa as p,lb as s,qc as h,ub as o,vb as t,wb as g}from"./chunk-5XW4J5QZ.js";var O=()=>["/register"],M=(()=>{class a{constructor(){this.fb=n(x),this.loginService=n(N),this.router=n(v),this.toastr=n(E)}ngOnInit(){this.loginForm=this.initForm()}initForm(){return this.fb.group({email:["",[r.required,r.email]],password:["",[r.required,r.minLength(3)]]})}onSubmit(){let l=localStorage.getItem(this.loginForm.get("email")?.value),e={email:"",password:0};l?(e=JSON.parse(l),console.log(e)):console.log("No user found in localStorage for the given email."),!this.loginForm.invalid&&this.loginForm.get("email")?.value===e.email&&this.loginForm.get("password")?.value===e.password?(this.loginService.setUser(this.loginForm.get("email")?.value),this.toastr.success(`User ${this.loginForm.controls.email.value} Logged`,"User Logged"),this.router.navigate(["/home"])):this.toastr.warning("User not found. Please verify your credentials or create an acount","Invalid Credentials")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=p({type:a,selectors:[["app-login"]],standalone:!0,features:[c],decls:19,vars:4,consts:[[1,"wrapper"],[1,"body",3,"ngSubmit","formGroup"],["src","assets/img/cuenta.png","alt","img login",1,"logo"],[1,"mb-3","mt-3"],[1,"d-flex"],["type","email","formControlName","email",1,"form-control"],[1,"mb-3"],["type","password","formControlName","password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[3,"routerLink"]],template:function(e,d){e&1&&(o(0,"div",0)(1,"form",1),u("ngSubmit",function(){return d.onSubmit()}),g(2,"img",2),o(3,"h3"),i(4,"Login"),t(),o(5,"div",3)(6,"label",4),i(7,"Email"),t(),g(8,"input",5),t(),o(9,"div",6)(10,"label",4),i(11,"Password"),t(),g(12,"input",7),t(),o(13,"div",8)(14,"button",9),i(15," Sign In "),t(),o(16,"h4")(17,"a",10),i(18,"You don\xB4t have an account? Create it."),t()()()()()),e&2&&(m(),s("formGroup",d.loginForm),m(13),s("disabled",d.loginForm.invalid),m(3),s("routerLink",f(3,O)))},dependencies:[h,_,F,S,C,y,w,L,b],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:linear-gradient(90deg,#a8a3d4,#a08db9,#342360);height:100%}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{max-width:300px;width:100%;text-align:center}.btn-lg[_ngcontent-%COMP%]{cursor:pointer}"]})}}return a})();var B=[{path:"",component:M}];export{B as LOGIN_ROUTES};
